<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Compass HTML Test</title>

    <script src="https://unpkg.com/@leanbase.com/js/dist/leanbase.iife.js"></script>
    <script>
      leanbase.init("lbc_domZKKA5YmxwkUjGLmoSPvKowxgtQzRBimT6TkFLAk5", {
        host: "https://ingest-compass-25.leanflag.net"
      });
    </script>
  </head>
  <body>
    <h1>HTML Snippet Test</h1>

    <button id="btn-autocapture">Click me (autocapture)</button>
    <button id="btn-manual">Manual capture</button>
    <button id="btn-identify">Identify</button>
      <div class="section">
      <h3>1. Test Identify (Login)</h3>
      <input type="text" id="userIdInput" placeholder="Enter User ID (e.g., user_123)" value="test_user_001">
      <button id="btnIdentify">Login / Identify</button>
      <button id="btnReset">Reset / Logout</button>
    </div>


    <p><a href="/about.html">Go to /about</a></p>

    <script>
      document.getElementById("btn-manual").onclick = () => {
        leanbase.capture("qe_manual_event", { from: "html", ts: Date.now() });
      };

      document.getElementById("btn-identify").onclick = () => {
        // nếu SDK support identify, dùng nó. Nếu không thấy method, bỏ qua bước này.
        if (leanbase.identify) {
          leanbase.identify("qe_user_001", { email: "qe+html@demo.local", name: "QE HTML" });
          leanbase.capture("qe_after_identify", { from: "html" });
        } else {
          console.warn("No leanbase.identify() in this build");
        }
      };
    </script>
  </body>
</html>
